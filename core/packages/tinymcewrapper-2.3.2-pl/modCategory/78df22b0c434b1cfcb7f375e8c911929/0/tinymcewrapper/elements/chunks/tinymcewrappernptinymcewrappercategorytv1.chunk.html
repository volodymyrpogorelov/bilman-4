tinymce.init({
  name: "Category TVs",
  selector: "[data-tiny^=np-TinymceWrapperCategoryTV]",
  [[+commonTinyMCECode]]
  fixed_toolbar_container: false,
  forced_root_block: '',
  force_br_newlines: false,
  force_p_newlines: false,
  plugins: "contextmenu autosave save paste link",
  paste_word_valid_elements: "i,h3,p",
  valid_elements: "i[*],h3[*],p[*]",
  setup: function(editor) {
    editor.addButton("changeBG", {
    text:"BG",
    icon:"image",
    tooltip:"Change BG image",
    onclick:function(){
      var fieldN = $("#"+editor.id).parents("a").find("[data-tiny-image]").attr("data-tiny-image")
      autoFileBrowser(fieldN,"", "", "", 1)
   }
  });
   },
  toolbar: "changeBG code",
  twCodeMirrorPoppedOrInline: 1, //default is 1 = popped
  menubar: false,
  contextmenu: "code reset undo redo"
});